<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overbrowsing</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="feed">
            <div class="feed__item">
                <h1>Overbrowsing</h1>
                <p id="carbon"></p>
                <p id="aqi"></p>
                <p>This site doesn't use cookies.</p>
                
                <script type="module">
                    import data from "../cache/data.json" assert { type: "json" };
                    let filteredHtml = "";
                    data.forEach(element => {
                        filteredHtml += "<div class='feed__item'>";
                
                        if (element.content) {
                        filteredHtml += "<p>" + element.content + "</p>";
                        }
                        if (element.image) {
                        filteredHtml += "<div class='feed__image'><img class='feed__image-img' src='cache/images/" + element.id + ".png' loading='lazy' /></div>";
                        }
                        if (element.title) {
                        filteredHtml += "<caption>" + element.title + "</caption>";
                        }
                        filteredHtml += "</div>";
                    });
                    
                    document.querySelector('.feed').insertAdjacentHTML('beforeend', filteredHtml);
                </script>
            </div>
        </div>
    </div>

    <script src="scripts/fetchAqi.js" type="module"></script>
    <script src="scripts/fetchCarbon.js"></script>
    </body>
</html>
